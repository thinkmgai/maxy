{
  "size": #{size},
  "query": {
    "bool": {
      "must": [
#[searchUserId]
        {
          "term": {
            "userId": #{searchValue}
          }
        }
#[/searchUserId]
#[searchUserNm]
        ,{
          "term": {
            "userNm": #{searchValue}
          }
        }
#[/searchUserNm]
      ],
      "filter": [
      {
        "term": {
          "startPageYn": "Y"
        }
      },
      {
        "term": {
          "serverType": #{serverType}
        }
      },
      {
        "term": {
          "packageNm": #{packageNm}
        }
      },
      #[isAppVer]
      {
         "term" : {
           "appVer": #{appVer}
          }
      },
      #[/isAppVer]
      #[isOsType]
      {
        "term": {
          "osType": #{osType}
        }
      },
      #[/isOsType]
#[searchDeviceId]
      {
      "term": {
        "deviceId": #{searchValue}
        }
      },
#[/searchDeviceId]
#[searchVipYn]
      {
        "term": {
          "vipYn": #{vipYn}
        }
      },
#[/searchVipYn]
#[searchErrorCount]
      {
        "range": {
          "errorCount": {
            "gt": "0"
          }
        }
      },
#[/searchErrorCount]
#[searchCrashCount]
      {
        "range": {
          "crashCount": {
            "gt": "0"
          }
        }
      },
#[/searchCrashCount]
#[isDeviceModel]
      {
        "term" : {
          "deviceModel" : #{deviceModel}
        }
      },
#[/isDeviceModel]
      {
        "range": {
          "parentLogDate": {
            "gte": #{fromDt},
            "lte": #{toDt}
          }
        }
      }]
    }
  },
  "fields" : [
  {
    "field" : "deviceId"
  },
  {
    "field" : "packageNm"
  },
  {
    "field" : "serverType"
  },
  {
    "field" : "parentLogDate",
    "format" : "epoch_millis"
  },
  {
    "field" : "parentEndLogDate",
    "format" : "epoch_millis"
  },
  {
    "field" : "logDate"
  },
  {
    "field" : "reqUrl"
  },
  {
    "field" : "aliasValue"
  },
  {
    "field" : "userNm"
  },
  {
    "field" : "userId"
  },
  {
    "field" : "phoneNo"
  },
  {
    "field" : "osType"
  },
  {
    "field" : "vipYn"
  },
  {
    "field" : "pageCount"
  },
  {
    "field" : "errorCount"
  },
  {
    "field" : "crashCount"
  },
  {
    "field" : "pageStartTm",
    "format" : "epoch_millis"
  },
  {
    "field" : "pageEndTm",
    "format" : "epoch_millis"
  },
  {
    "field" : "pageCount"
  },
  {
    "field" : "_id"
  },
  {
    "field" : "intervaltime"
  },
  {
  "field" : "loginYn"
  }
],
  "sort" : [
  {
    "_id" : {
      "order" : "asc",
      "missing" : "_last",
      "unmapped_type" : "long"
    }
  }
  ]
  #[isMoreData]
  , "search_after":[
    #{id}
  ]
  #[/isMoreData]
}